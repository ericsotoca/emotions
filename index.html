<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon Journal d'Ã‰motions DÃ©taillÃ©</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        body { 
            padding: 20px; 
            background-color: #f8f9fa; 
            font-size: 1rem;
        }
        .card { 
            margin-bottom: 20px; 
            border: none; 
            box-shadow: 0 4px 8px rgba(0,0,0,0.1); 
        }
        .journal-entry {
            border-left: 5px solid #0d6efd;
            transition: all 0.3s ease-in-out;
        }
        .journal-entry:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
        .choice-selector .form-check-input {
            display: none;
        }
        .choice-selector .form-check-label {
            cursor: pointer;
            margin-right: 5px; 
            margin-bottom: 5px;
            padding: .375rem .75rem;
            border: 1px solid #0d6efd;
            color: #0d6efd;
            border-radius: .25rem;
            user-select: none;
            transition: all 0.2s ease-in-out;
        }
        .choice-selector .form-check-input:checked + .form-check-label {
            background-color: #0d6efd;
            color: white;
            border-color: #0d6efd;
        }
        .form-check {
            padding-left: 0;
            display: inline-block;
        }
        .badge {
            font-size: 0.85em;
            font-weight: 500;
        }
        h5 {
            border-bottom: 2px solid #eee;
            padding-bottom: 8px;
            margin-bottom: 15px !important;
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <header class="text-center mb-5">
            <h1>Mon Journal d'Ã‰motions DÃ©taillÃ©</h1>
            <p class="lead text-muted">Suivez et comprenez vos Ã©motions au quotidien. Vos donnÃ©es sont sauvegardÃ©es uniquement sur votre appareil.</p>
        </header>

        <!-- Formulaire de saisie -->
        <div class="card p-4">
            <h3 class="text-center mb-4">Nouvelle EntrÃ©e</h3>
            <form id="emotionForm">

                <!-- Ã‰motion (sÃ©lection unique) -->
                <div class="mb-4 choice-selector">
                    <h5>Ã‰motion <span class="text-danger">*</span></h5>
                    <div class="d-flex flex-wrap">
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-joie" value="ğŸ˜Š Joie" required><label class="form-check-label" for="emo-joie">ğŸ˜Š Joie</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-tristesse" value="ğŸ˜¢ Tristesse"><label class="form-check-label" for="emo-tristesse">ğŸ˜¢ Tristesse</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-colere" value="ğŸ˜  ColÃ¨re"><label class="form-check-label" for="emo-colere">ğŸ˜  ColÃ¨re</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-peur" value="ğŸ˜¨ Peur"><label class="form-check-label" for="emo-peur">ğŸ˜¨ Peur</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-surprise" value="ğŸ˜® Surprise"><label class="form-check-label" for="emo-surprise">ğŸ˜® Surprise</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-degout" value="ğŸ¤¢ DÃ©goÃ»t"><label class="form-check-label" for="emo-degout">ğŸ¤¢ DÃ©goÃ»t</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-confiance" value="ğŸ¤— Confiance"><label class="form-check-label" for="emo-confiance">ğŸ¤— Confiance</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-anticipation" value="ğŸ¤” Anticipation"><label class="form-check-label" for="emo-anticipation">ğŸ¤” Anticipation</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-amour" value="â¤ï¸ Amour"><label class="form-check-label" for="emo-amour">â¤ï¸ Amour</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-culpabilite" value="ğŸ˜” CulpabilitÃ©"><label class="form-check-label" for="emo-culpabilite">ğŸ˜” CulpabilitÃ©</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-honte" value="ğŸ˜³ Honte"><label class="form-check-label" for="emo-honte">ğŸ˜³ Honte</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-fierte" value="ğŸ˜ FiertÃ©"><label class="form-check-label" for="emo-fierte">ğŸ˜ FiertÃ©</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-calme" value="ğŸ˜Œ Calme"><label class="form-check-label" for="emo-calme">ğŸ˜Œ Calme</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-anxiete" value="ğŸ˜Ÿ AnxiÃ©tÃ©"><label class="form-check-label" for="emo-anxiete">ğŸ˜Ÿ AnxiÃ©tÃ©</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-espoir" value="ğŸ™ Espoir"><label class="form-check-label" for="emo-espoir">ğŸ™ Espoir</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-gratitude" value="ğŸ™Œ Gratitude"><label class="form-check-label" for="emo-gratitude">ğŸ™Œ Gratitude</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-jalousie" value="ğŸ˜’ Jalousie"><label class="form-check-label" for="emo-jalousie">ğŸ˜’ Jalousie</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-ennui" value="ğŸ˜‘ Ennui"><label class="form-check-label" for="emo-ennui">ğŸ˜‘ Ennui</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-enthousiasme" value="ğŸ¤© Enthousiasme"><label class="form-check-label" for="emo-enthousiasme">ğŸ¤© Enthousiasme</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-frustration" value="ğŸ˜¤ Frustration"><label class="form-check-label" for="emo-frustration">ğŸ˜¤ Frustration</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-curiosite" value="ğŸ¤” CuriositÃ©"><label class="form-check-label" for="emo-curiosite">ğŸ¤” CuriositÃ©</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-contentement" value="ğŸ˜Š Contentement"><label class="form-check-label" for="emo-contentement">ğŸ˜Š Contentement</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-nostalgie" value="ğŸ˜¥ Nostalgie"><label class="form-check-label" for="emo-nostalgie">ğŸ˜¥ Nostalgie</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-emerveillement" value="ğŸ˜® Ã‰merveillement"><label class="form-check-label" for="emo-emerveillement">ğŸ˜® Ã‰merveillement</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-amusement" value="ğŸ˜„ Amusement"><label class="form-check-label" for="emo-amusement">ğŸ˜„ Amusement</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-satisfaction" value="ğŸ˜Œ Satisfaction"><label class="form-check-label" for="emo-satisfaction">ğŸ˜Œ Satisfaction</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-compassion" value="ğŸ¤— Compassion"><label class="form-check-label" for="emo-compassion">ğŸ¤— Compassion</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-solitude" value="ğŸ˜” Solitude"><label class="form-check-label" for="emo-solitude">ğŸ˜” Solitude</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-courage" value="ğŸ’ª Courage"><label class="form-check-label" for="emo-courage">ğŸ’ª Courage</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-serenite" value="ğŸ§˜ SÃ©rÃ©nitÃ©"><label class="form-check-label" for="emo-serenite">ğŸ§˜ SÃ©rÃ©nitÃ©</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-timidite" value="ğŸ˜³ TimiditÃ©"><label class="form-check-label" for="emo-timidite">ğŸ˜³ TimiditÃ©</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-inquietude" value="ğŸ˜Ÿ InquiÃ©tude"><label class="form-check-label" for="emo-inquietude">ğŸ˜Ÿ InquiÃ©tude</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-deception" value="ğŸ˜ DÃ©ception"><label class="form-check-label" for="emo-deception">ğŸ˜ DÃ©ception</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-liberte" value="ğŸ•Šï¸ LibertÃ©"><label class="form-check-label" for="emo-liberte">ğŸ•Šï¸ LibertÃ©</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-puissance" value="ğŸ”¥ Puissance"><label class="form-check-label" for="emo-puissance">ğŸ”¥ Puissance</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-vulnerabilite" value="ğŸ¥º VulnÃ©rabilitÃ©"><label class="form-check-label" for="emo-vulnerabilite">ğŸ¥º VulnÃ©rabilitÃ©</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-confusion" value="ğŸ˜• Confusion"><label class="form-check-label" for="emo-confusion">ğŸ˜• Confusion</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-melancolie" value="ğŸ˜” MÃ©lancolie"><label class="form-check-label" for="emo-melancolie">ğŸ˜” MÃ©lancolie</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-rage" value="ğŸ˜¡ Rage"><label class="form-check-label" for="emo-rage">ğŸ˜¡ Rage</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="emotion" id="emo-extase" value="ğŸ¤© Extase"><label class="form-check-label" for="emo-extase">ğŸ¤© Extase</label></div>
                    </div>
                </div>

                <!-- IntensitÃ© (sÃ©lection unique) -->
                <div class="mb-4 choice-selector">
                    <h5>IntensitÃ© <span class="text-danger">*</span></h5>
                    <div class="d-flex flex-wrap">
                        <div class="form-check"><input type="radio" class="form-check-input" name="intensity" id="int-1" value="TrÃ¨s faible (1)" required><label class="form-check-label" for="int-1">TrÃ¨s faible (1)</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="intensity" id="int-2" value="Faible (2)"><label class="form-check-label" for="int-2">Faible (2)</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="intensity" id="int-3" value="Moyenne (3)"><label class="form-check-label" for="int-3">Moyenne (3)</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="intensity" id="int-4" value="Forte (4)"><label class="form-check-label" for="int-4">Forte (4)</label></div>
                        <div class="form-check"><input type="radio" class="form-check-input" name="intensity" id="int-5" value="TrÃ¨s forte (5)"><label class="form-check-label" for="int-5">TrÃ¨s forte (5)</label></div>
                    </div>
                </div>

                <!-- DÃ©clencheur (sÃ©lection multiple) -->
                <div class="mb-4 choice-selector">
                    <h5>DÃ©clencheur(s)</h5>
                    <div class="d-flex flex-wrap">
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="trigger" id="trig-interaction" value="Interaction sociale"><label class="form-check-label" for="trig-interaction">Interaction sociale</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="trigger" id="trig-evenement" value="Ã‰vÃ©nement social"><label class="form-check-label" for="trig-evenement">Ã‰vÃ©nement social</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="trigger" id="trig-travail" value="Travail ou Ã©tudes"><label class="form-check-label" for="trig-travail">Travail ou Ã©tudes</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="trigger" id="trig-taches" value="TÃ¢ches mÃ©nagÃ¨res"><label class="form-check-label" for="trig-taches">TÃ¢ches mÃ©nagÃ¨res</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="trigger" id="trig-physique" value="ActivitÃ© physique"><label class="form-check-label" for="trig-physique">ActivitÃ© physique</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="trigger" id="trig-meteo" value="MÃ©tÃ©o"><label class="form-check-label" for="trig-meteo">MÃ©tÃ©o</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="trigger" id="trig-medias" value="ActualitÃ©s ou mÃ©dias"><label class="form-check-label" for="trig-medias">ActualitÃ©s ou mÃ©dias</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="trigger" id="trig-sante" value="SantÃ© ou corps"><label class="form-check-label" for="trig-sante">SantÃ© ou corps</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="trigger" id="trig-pensees" value="PensÃ©es ou souvenirs"><label class="form-check-label" for="trig-pensees">PensÃ©es ou souvenirs</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="trigger" id="trig-lieu" value="Lieu ou environnement"><label class="form-check-label" for="trig-lieu">Lieu ou environnement</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="trigger" id="trig-nourriture" value="Nourriture ou boisson"><label class="form-check-label" for="trig-nourriture">Nourriture ou boisson</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="trigger" id="trig-art" value="Musique ou art"><label class="form-check-label" for="trig-art">Musique ou art</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="trigger" id="trig-finance" value="ProblÃ¨me financier"><label class="form-check-label" for="trig-finance">ProblÃ¨me financier</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="trigger" id="trig-reussite" value="RÃ©ussite personnelle"><label class="form-check-label" for="trig-reussite">RÃ©ussite personnelle</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="trigger" id="trig-echec" value="Ã‰chec ou erreur"><label class="form-check-label" for="trig-echec">Ã‰chec ou erreur</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="trigger" id="trig-conflit" value="Conflit"><label class="form-check-label" for="trig-conflit">Conflit</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="trigger" id="trig-solitude" value="Solitude"><label class="form-check-label" for="trig-solitude">Solitude</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="trigger" id="trig-fatigue" value="Fatigue ou repos"><label class="form-check-label" for="trig-fatigue">Fatigue ou repos</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="trigger" id="trig-voyage" value="Transport ou voyage"><label class="form-check-label" for="trig-voyage">Transport ou voyage</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="trigger" id="trig-reve" value="RÃªve ou cauchemar"><label class="form-check-label" for="trig-reve">RÃªve ou cauchemar</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="trigger" id="trig-critique" value="Critique reÃ§ue"><label class="form-check-label" for="trig-critique">Critique reÃ§ue</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="trigger" id="trig-gentillesse" value="Acte de gentillesse"><label class="form-check-label" for="trig-gentillesse">Acte de gentillesse</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="trigger" id="trig-injustice" value="Injustice (vue/subie)"><label class="form-check-label" for="trig-injustice">Injustice (vue/subie)</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="trigger" id="trig-attente" value="Attente ou retard"><label class="form-check-label" for="trig-attente">Attente ou retard</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="trigger" id="trig-autre" value="Autre"><label class="form-check-label" for="trig-autre">Autre</label></div>
                    </div>
                </div>
                
                <!-- RÃ©action (sÃ©lection multiple) -->
                <div class="mb-4 choice-selector">
                    <h5>RÃ©action(s)</h5>
                    <div class="d-flex flex-wrap">
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="reaction" id="react-pleurer" value="J'ai pleurÃ©"><label class="form-check-label" for="react-pleurer">J'ai pleurÃ©</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="reaction" id="react-rire" value="J'ai souri ou ri"><label class="form-check-label" for="react-rire">J'ai souri ou ri</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="reaction" id="react-crier" value="J'ai criÃ© / Ã©levÃ© la voix"><label class="form-check-label" for="react-crier">J'ai criÃ© / Ã©levÃ© la voix</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="reaction" id="react-isoler" value="Je me suis isolÃ©(e)"><label class="form-check-label" for="react-isoler">Je me suis isolÃ©(e)</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="reaction" id="react-reconfort" value="J'ai cherchÃ© du rÃ©confort"><label class="form-check-label" for="react-reconfort">J'ai cherchÃ© du rÃ©confort</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="reaction" id="react-parler" value="J'ai parlÃ© Ã  quelqu'un"><label class="form-check-label" for="react-parler">J'ai parlÃ© Ã  quelqu'un</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="reaction" id="react-sport" value="J'ai fait de l'exercice"><label class="form-check-label" for="react-sport">J'ai fait de l'exercice</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="reaction" id="react-manger" value="J'ai mangÃ© ou bu"><label class="form-check-label" for="react-manger">J'ai mangÃ© ou bu</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="reaction" id="react-musique" value="J'ai Ã©coutÃ© de la musique"><label class="form-check-label" for="react-musique">J'ai Ã©coutÃ© de la musique</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="reaction" id="react-ecrire" value="J'ai Ã©crit ou dessinÃ©"><label class="form-check-label" for="react-ecrire">J'ai Ã©crit ou dessinÃ©</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="reaction" id="react-ignorer" value="J'ai ignorÃ© la situation"><label class="form-check-label" for="react-ignorer">J'ai ignorÃ© la situation</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="reaction" id="react-solution" value="J'ai cherchÃ© une solution"><label class="form-check-label" for="react-solution">J'ai cherchÃ© une solution</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="reaction" id="react-mediter" value="J'ai mÃ©ditÃ© / respirÃ©"><label class="form-check-label" for="react-mediter">J'ai mÃ©ditÃ© / respirÃ©</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="reaction" id="react-film" value="J'ai regardÃ© un film/sÃ©rie"><label class="form-check-label" for="react-film">J'ai regardÃ© un film/sÃ©rie</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="reaction" id="react-rien" value="Rien de spÃ©cial"><label class="form-check-label" for="react-rien">Rien de spÃ©cial</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="reaction" id="react-tension" value="J'ai ressenti une tension physique"><label class="form-check-label" for="react-tension">J'ai ressenti une tension physique</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="reaction" id="react-planifier" value="J'ai planifiÃ© une action"><label class="form-check-label" for="react-planifier">J'ai planifiÃ© une action</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="reaction" id="react-gratitude" value="J'ai exprimÃ© ma gratitude"><label class="form-check-label" for="react-gratitude">J'ai exprimÃ© ma gratitude</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="reaction" id="react-blamer" value="J'ai blÃ¢mÃ© qqn/qqch"><label class="form-check-label" for="react-blamer">J'ai blÃ¢mÃ© qqn/qqch</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="reaction" id="react-ruminer" value="J'ai ruminÃ© les pensÃ©es"><label class="form-check-label" for="react-ruminer">J'ai ruminÃ© les pensÃ©es</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="reaction" id="react-celebrer" value="J'ai cÃ©lÃ©brÃ©"><label class="form-check-label" for="react-celebrer">J'ai cÃ©lÃ©brÃ©</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="reaction" id="react-ranger" value="J'ai nettoyÃ© ou rangÃ©"><label class="form-check-label" for="react-ranger">J'ai nettoyÃ© ou rangÃ©</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="reaction" id="react-dormir" value="J'ai dormi ou me suis reposÃ©(e)"><label class="form-check-label" for="react-dormir">J'ai dormi ou me suis reposÃ©(e)</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="reaction" id="react-autre" value="Autre"><label class="form-check-label" for="react-autre">Autre</label></div>
                    </div>
                </div>

                <!-- Contexte (sÃ©lection multiple) -->
                <div class="mb-4 choice-selector">
                    <h5>Contexte(s)</h5>
                    <div class="d-flex flex-wrap">
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="context" id="ctx-maison" value="Ã€ la maison"><label class="form-check-label" for="ctx-maison">Ã€ la maison</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="context" id="ctx-travail" value="Au travail"><label class="form-check-label" for="ctx-travail">Au travail</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="context" id="ctx-ecole" value="Ã€ l'Ã©cole/formation"><label class="form-check-label" for="ctx-ecole">Ã€ l'Ã©cole/formation</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="context" id="ctx-transport" value="Dans les transports"><label class="form-check-label" for="ctx-transport">Dans les transports</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="context" id="ctx-public" value="Lieu public"><label class="form-check-label" for="ctx-public">Lieu public</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="context" id="ctx-nature" value="Dehors/nature"><label class="form-check-label" for="ctx-nature">Dehors/nature</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="context" id="ctx-proches" value="Chez des proches"><label class="form-check-label" for="ctx-proches">Chez des proches</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="context" id="ctx-loisir" value="Pendant un loisir"><label class="form-check-label" for="ctx-loisir">Pendant un loisir</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="context" id="ctx-seul" value="Seul(e)"><label class="form-check-label" for="ctx-seul">Seul(e)</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="context" id="ctx-partenaire" value="Avec partenaire"><label class="form-check-label" for="ctx-partenaire">Avec partenaire</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="context" id="ctx-famille" value="Avec famille"><label class="form-check-label" for="ctx-famille">Avec famille</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="context" id="ctx-amis" value="Avec amis"><label class="form-check-label" for="ctx-amis">Avec amis</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="context" id="ctx-collegues" value="Avec collÃ¨gues"><label class="form-check-label" for="ctx-collegues">Avec collÃ¨gues</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="context" id="ctx-inconnus" value="Avec inconnus"><label class="form-check-label" for="ctx-inconnus">Avec inconnus</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="context" id="ctx-matin" value="Matin"><label class="form-check-label" for="ctx-matin">Matin</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="context" id="ctx-aprem" value="AprÃ¨s-midi"><label class="form-check-label" for="ctx-aprem">AprÃ¨s-midi</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="context" id="ctx-soir" value="Soir"><label class="form-check-label" for="ctx-soir">Soir</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="context" id="ctx-nuit" value="Nuit"><label class="form-check-label" for="ctx-nuit">Nuit</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="context" id="ctx-online" value="En ligne/rÃ©seaux"><label class="form-check-label" for="ctx-online">En ligne/rÃ©seaux</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="context" id="ctx-repas" value="Pendant un repas"><label class="form-check-label" for="ctx-repas">Pendant un repas</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="context" id="ctx-reveil" value="Au rÃ©veil"><label class="form-check-label" for="ctx-reveil">Au rÃ©veil</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="context" id="ctx-coucher" value="Avant de dormir"><label class="form-check-label" for="ctx-coucher">Avant de dormir</label></div>
                        <div class="form-check"><input type="checkbox" class="form-check-input" name="context" id="ctx-autre" value="Autre"><label class="form-check-label" for="ctx-autre">Autre</label></div>
                    </div>
                </div>

                <!-- Description -->
                <div class="mb-3">
                    <label for="description" class="form-label">Description (optionnel)</label>
                    <textarea class="form-control" id="description" rows="3" placeholder="DÃ©crivez plus en dÃ©tail ce qui s'est passÃ©..."></textarea>
                </div>
                
                <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-3">
                    <button type="button" class="btn btn-secondary me-md-2" id="cancelButton">Annuler</button>
                    <button type="submit" class="btn btn-success">Sauvegarder</button>
                </div>
            </form>
        </div>

        <!-- Section pour afficher les entrÃ©es du journal -->
        <div class="mt-5">
            <h2 class="text-center mb-4">Mon Journal</h2>
            <div id="journalEntries" class="list-group">
                <!-- Les entrÃ©es seront injectÃ©es ici par JavaScript -->
            </div>
        </div>
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const emotionForm = document.getElementById('emotionForm');
    const journalEntriesContainer = document.getElementById('journalEntries');
    const cancelButton = document.getElementById('cancelButton');
    const STORAGE_KEY = 'emotionJournalEntries';

    const getEntries = () => {
        const entries = localStorage.getItem(STORAGE_KEY);
        return entries ? JSON.parse(entries) : [];
    };

    const saveEntries = (entries) => {
        localStorage.setItem(STORAGE_KEY, JSON.stringify(entries));
    };

    const renderJournal = () => {
        journalEntriesContainer.innerHTML = '';
        const entries = getEntries();

        if (entries.length === 0) {
            journalEntriesContainer.innerHTML = '<p class="text-center text-muted">Aucune entrÃ©e pour le moment. Ajoutez-en une !</p>';
            return;
        }

        entries.slice().reverse().forEach(entry => {
            const entryElement = document.createElement('div');
            entryElement.className = 'list-group-item list-group-item-action flex-column align-items-start mb-3 p-3 journal-entry';
            
            // Fonction pour crÃ©er des badges. Ne retourne rien si la liste est vide.
            const createBadges = (items) => {
                if (!items || items.length === 0) return '';
                return items.map(item => `<span class="badge bg-secondary me-1 mb-1">${item}</span>`).join(' ');
            };

            const triggersHtml = createBadges(entry.triggers);
            const reactionsHtml = createBadges(entry.reactions);
            const contextsHtml = createBadges(entry.contexts);

            entryElement.innerHTML = `
                <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1">${entry.emotion}</h5>
                    <small class="text-muted">${new Date(entry.id).toLocaleString('fr-FR', { day: '2-digit', month: '2-digit', year: 'numeric', hour: '2-digit', minute: '2-digit' })}</small>
                </div>
                <p class="mb-2"><strong>IntensitÃ© :</strong> <span class="badge bg-primary">${entry.intensity}</span></p>
                ${triggersHtml ? `<div class="mb-2"><strong>DÃ©clencheur(s) :</strong> ${triggersHtml}</div>` : ''}
                ${reactionsHtml ? `<div class="mb-2"><strong>RÃ©action(s) :</strong> ${reactionsHtml}</div>` : ''}
                ${contextsHtml ? `<div class="mb-2"><strong>Contexte(s) :</strong> ${contextsHtml}</div>` : ''}
                ${entry.description ? `<p class="mb-1 mt-2 fst-italic text-muted">"${entry.description}"</p>` : ''}
                <button class="btn btn-sm btn-outline-danger mt-2 delete-btn" data-id="${entry.id}">Supprimer</button>
            `;
            journalEntriesContainer.appendChild(entryElement);
        });
    };

    emotionForm.addEventListener('submit', (e) => {
        e.preventDefault();

        const getCheckedValues = (name) => {
            return Array.from(document.querySelectorAll(`input[name="${name}"]:checked`)).map(cb => cb.value);
        };
        
        const emotionValue = emotionForm.elements['emotion'].value;
        const intensityValue = emotionForm.elements['intensity'].value;
        if (!emotionValue || !intensityValue) {
            alert("Veuillez sÃ©lectionner une Ã©motion et une intensitÃ©.");
            return;
        }

        const newEntry = {
            id: Date.now(),
            emotion: emotionValue,
            intensity: intensityValue,
            triggers: getCheckedValues('trigger'),
            reactions: getCheckedValues('reaction'), // AjoutÃ©
            contexts: getCheckedValues('context'),   // AjoutÃ©
            description: emotionForm.elements['description'].value.trim()
        };

        const entries = getEntries();
        entries.push(newEntry);
        saveEntries(entries);

        renderJournal();
        emotionForm.reset();
    });

    journalEntriesContainer.addEventListener('click', (e) => {
        if (e.target.classList.contains('delete-btn')) {
            const entryId = e.target.getAttribute('data-id');
            if (confirm("ÃŠtes-vous sÃ»r de vouloir supprimer cette entrÃ©e ?")) {
                let entries = getEntries();
                entries = entries.filter(entry => entry.id.toString() !== entryId);
                saveEntries(entries);
                renderJournal();
            }
        }
    });
    
    cancelButton.addEventListener('click', () => {
        emotionForm.reset();
    });

    renderJournal();
});
</script>
</body>
</html>
