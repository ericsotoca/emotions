<!DOCTYPE html>
<html lang="fr" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G√©n√©rateur de Connexion</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .mission-card { min-height: 200px; display: flex; align-items: center; justify-content: center; text-align: center; }
    </style>
</head>
<body>
    <div class="container my-5" style="max-width: 600px;">
        <a href="index.html" class="btn btn-outline-secondary btn-sm mb-4">‚Üê Retour au portail</a>
        <div class="text-center">
            <h1>G√©n√©rateur de Connexion</h1>
            <p class="lead text-white-50">Un petit pas chaque jour pour construire des ponts.</p>
        </div>

        <div class="card my-4 text-center">
            <div class="card-header">
                Mission du Jour
            </div>
            <div class="card-body mission-card">
                <h4 class="card-title" id="mission-text">Cliquez sur "Autre Mission" pour commencer.</h4>
            </div>
            <div class="card-footer d-flex justify-content-between align-items-center">
                <button class="btn btn-success" id="done-btn">Mission Accomplie !</button>
                <button class="btn btn-secondary" id="new-mission-btn">Autre Mission</button>
            </div>
        </div>
        
        <div class="text-center">
            <h5>Total des missions accomplies : <span class="badge bg-info" id="score-counter">0</span></h5>
        </div>
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const missions = [
        // Cat√©gorie 1: Initier le contact (faible enjeu)
        "Envoyez un message √† un proche juste pour lui dire que vous pensez √† lui, sans rien attendre en retour.",
        "Partagez un article, une musique ou une photo avec quelqu'un en disant : 'J'ai pens√© que √ßa pourrait t'int√©resser'.",
        "R√©pondez √† la 'story' d'un ami sur les r√©seaux sociaux avec un commentaire ou un emoji pertinent.",
        "Ressortez une vieille photo avec un proche et envoyez-la en disant 'Souvenir !'.",
        "Initiez un contact avec un coll√®gue pour parler d'autre chose que du travail pendant 2 minutes.",
        // Cat√©gorie 2: Exprimer la gratitude et l'appr√©ciation
        "Remerciez sinc√®rement quelqu'un pour quelque chose de sp√©cifique qu'il a fait pour vous r√©cemment.",
        "Faites un compliment sinc√®re et pr√©cis √† un ami ou un coll√®gue.",
        "Remerciez quelqu'un pour une qualit√© de caract√®re, pas seulement une action (ex: 'J'admire vraiment ta patience').",
        "√âcrivez trois choses que vous appr√©ciez chez un proche, et partagez-en une avec lui/elle.",
        "Laissez un commentaire positif sur le travail ou la cr√©ation de quelqu'un en ligne.",
        // Cat√©gorie 3: Partager son monde int√©rieur (vuln√©rabilit√© contr√¥l√©e)
        "Partagez une petite contrari√©t√© de votre journ√©e (ex: 'Mon caf√© a d√©bord√©, quelle gal√®re').",
        "Mentionnez une petite chose que vous avez apprise r√©cemment et qui vous a surpris.",
        "Racontez un souvenir d'enfance, m√™me anodin, √† votre partenaire ou un ami proche.",
        "Partagez une petite chose pour laquelle vous vous sentez incertain ou nerveux.",
        "Exprimez une opinion personnelle sur un sujet l√©ger (film, musique, livre).",
        "Admettez ne pas savoir quelque chose et posez une question pour apprendre.",
        "Partagez un de vos petits 'bonheurs simples' de la journ√©e (ex: 'Le soleil sur mon visage ce matin √©tait vraiment agr√©able').",
        "Mentionnez un objectif personnel sur lequel vous travaillez, m√™me petit.",
        "Partagez un r√™ve √©trange ou amusant que vous avez fait.",
        "Exprimez un sentiment positif de mani√®re explicite (ex: 'Je me sens vraiment calme en ce moment').",
        // Cat√©gorie 4: Demander et √âcouter activement
        "Demandez √† quelqu'un : 'Quelle a √©t√© la meilleure partie de ta journ√©e ?' et √©coutez sans l'interrompre.",
        "Posez une question de suivi qui montre que vous avez √©cout√© (ex: 'La semaine derni√®re tu parlais de X, comment √ßa a avanc√© ?').",
        "Demandez l'avis de quelqu'un sur un sujet √† faible enjeu (ex: 'Quelle s√©rie devrais-je commencer ?').",
        "Demandez √† l'une de vos filles de vous apprendre quelque chose sur un de ses centres d'int√©r√™t.",
        "Lors d'une discussion, essayez de reformuler ce que l'autre a dit (ex: 'Si je comprends bien, tu ressens...').",
        "Demandez √† un proche : 'Y a-t-il quelque chose que je puisse faire pour toi cette semaine ?'.",
        "Posez une question sur le pass√© de quelqu'un (ex: 'Quel est ton meilleur souvenir de voyage ?').",
        // Cat√©gorie 5: Offrir et Recevoir
        "Proposez votre aide √† quelqu'un de mani√®re proactive, m√™me pour une petite t√¢che.",
        "Si quelqu'un vous fait un compliment, r√©pondez simplement 'Merci, √ßa me touche', sans le minimiser.",
        "Si quelqu'un vous offre de l'aide, acceptez-la, m√™me si vous pourriez le faire seul.",
        "Demandez de l'aide pour une petite t√¢che que vous pourriez parfaitement faire vous-m√™me.",
        "Proposez de prendre en charge une petite corv√©e pour soulager un proche (faire la vaisselle, sortir les poubelles...).",
        "Partagez un de vos talents/connaissances pour aider quelqu'un (ex: 'Je peux jeter un oeil √† ton probl√®me informatique si tu veux').",
        "Acceptez un caf√© ou un verre si on vous le propose, m√™me si vous n'aviez pas pr√©vu de rester.",
        // Cat√©gorie 6: Planifier et cr√©er des liens futurs
        "Planifiez une activit√© (m√™me petite, comme un caf√©) avec un ami que vous n'avez pas vu depuis longtemps.",
        "Proposez une date pr√©cise pour une future activit√©, au lieu d'un vague 'il faudra qu'on se fasse √ßa'.",
        "Envoyez un message de suivi apr√®s un bon moment pass√© avec quelqu'un (ex: 'J'ai vraiment appr√©ci√© notre discussion hier soir').",
        "Cr√©ez un petit rituel avec un proche (ex: l'appel du dimanche, le caf√© du mardi matin).",
        "Parlez d'un projet futur ou d'un r√™ve et incluez-y un proche (ex: 'Ce serait g√©nial d'aller voir ce match ensemble un jour').",
        // Cat√©gorie 7: Connexion non-verbale et physique
        "Initiez une accolade (si appropri√© avec la personne).",
        "Maintenez un contact visuel un peu plus longtemps que d'habitude lors d'une conversation.",
        "Proposez une activit√© √† faire c√¥te √† c√¥te sans forc√©ment parler (√©couter de la musique, se balader, regarder un film).",
        "Ayez un geste de r√©confort simple (une main sur l'√©paule) si un proche semble en avoir besoin.",
        "Asseyez-vous simplement √† c√¥t√© d'un proche sans rien faire d'autre pendant quelques minutes.",
        // Cat√©gorie 8: D√©fis sp√©cifiques
        "Excusez-vous pour une petite chose, m√™me si ce n'est pas grave.",
        "Exprimez un d√©saccord de mani√®re respectueuse et calme.",
        "C√©l√©brez ouvertement une petite victoire personnelle avec quelqu'un.",
        "C√©l√©brez la r√©ussite d'un autre sans parler de vous.",
        "Choisissez consciemment de ne pas donner de solution √† un probl√®me qu'on vous expose, mais juste d'√©couter.",
        "Demandez √† un proche : 'Comment puis-je √™tre un meilleur ami/p√®re/partenaire pour toi ?'."
    ];

    const missionTextEl = document.getElementById('mission-text');
    const newMissionBtn = document.getElementById('new-mission-btn');
    const doneBtn = document.getElementById('done-btn');
    const scoreCounterEl = document.getElementById('score-counter');

    let score = parseInt(localStorage.getItem('connectionScore') || '0');
    scoreCounterEl.textContent = score;

    function shuffleArray(array) {
        const shuffled = [...array]; 
        for (let i = shuffled.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
        }
        return shuffled;
    }

    function getNewMission() {
        let shuffledMissions = JSON.parse(localStorage.getItem('shuffledMissionsDeck') || '[]');
        if (shuffledMissions.length === 0) {
            shuffledMissions = shuffleArray(missions);
        }
        const mission = shuffledMissions.pop();
        localStorage.setItem('shuffledMissionsDeck', JSON.stringify(shuffledMissions));
        missionTextEl.textContent = mission;
        localStorage.setItem('currentMission', mission);
    }
    
    newMissionBtn.addEventListener('click', getNewMission);

    doneBtn.addEventListener('click', () => {
        if (missionTextEl.textContent.startsWith('Cliquez') || missionTextEl.textContent.startsWith('üéâ')) return;
        score++;
        localStorage.setItem('connectionScore', score);
        scoreCounterEl.textContent = score;
        missionTextEl.innerHTML = `üéâ Bravo ! Pr√™t pour la suivante ?`;
        setTimeout(getNewMission, 2000);
    });

    const savedMission = localStorage.getItem('currentMission');
    if (savedMission) {
        missionTextEl.textContent = savedMission;
    } else {
        getNewMission();
    }
});
</script>
</body>
</html>
